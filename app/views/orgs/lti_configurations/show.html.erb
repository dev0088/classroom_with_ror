<div class="remodal-bg">
  <%= render 'organizations/organization_banner' %>

  <div class="columns">
    <div class="one-fourth column">
      <%= render partial: 'organizations/side_menu' %>
    </div>
    <div class="three-fourths column">
      <div class="site-content">
        <div class="site-content-cap">
          <h2 class="site-content-heading">Learning Management System Configuration</h2>
        </div>

        <div class="site-content-body markdown-body">
          <h3>1. Create new application</h3>
          <p>You or your system administrator will need to add a new application to
          your Learning Management System with the following credentials generated below
          by GitHub Classroom.</p>

          <dt><label>Consumer Key</label></dt>
          <div class="input-group">
            <%= content_tag :input, '', type: 'text', class: "form-control input-contrast", id: "consumer-key-#{current_organization.github_id}", value: current_organization.lti_configuration.consumer_key, readonly: 'readonly' %>
            <span class="input-group-button">
              <button aria-label="<%= t('views.organizations.copy_to_clipboard') %>" data-clipboard-target=<%= "#consumer-key-#{current_organization.github_id}" %> class="js-clipboard btn tooltipped tooltipped-s" data-copied-hint="<%= t('views.organizations.copied') %>" type="button">
                <%= octicon 'clippy' %>
                Copy
              </button>
            </span>
          </div>

          <br>

          <dt><label>Shared Secret</label></dt>
          <div class="input-group">
            <%= content_tag :input, '', type: 'text', class: "form-control input-contrast", id: "shared-secret-#{current_organization.github_id}", value: current_organization.lti_configuration.shared_secret, readonly: 'readonly' %>
            <span class="input-group-button">
              <button aria-label="<%= t('views.organizations.copy_to_clipboard') %>" data-clipboard-target=<%= "#shared-secret-#{current_organization.github_id}" %> class="js-clipboard btn tooltipped tooltipped-s" data-copied-hint="<%= t('views.organizations.copied') %>" type="button">
                <%= octicon 'clippy' %>
                Copy
              </button>
            </span>
          </div>

          <br>

          <dt><label>Application Auto-Configuration URL</label></dt>
          <dt>On those LMSs which support it, paste in this link to automatically set up Classroom.</p><dt>
          <div class="input-group">
            <%= content_tag :input, '', type: 'text', class: "form-control input-contrast", id: "autoconfigure-url-#{current_organization.github_id}", value: autoconfigure_lti_configuration_url, readonly: 'readonly' %>
            <span class="input-group-button">
              <button aria-label="<%= t('views.organizations.copy_to_clipboard') %>" data-clipboard-target=<%= "#shared-secret-#{current_organization.github_id}" %> class="js-clipboard btn tooltipped tooltipped-s" data-copied-hint="<%= t('views.organizations.copied') %>" type="button">
                <%= octicon 'clippy' %>
                Copy
              </button>
            </span>
          </div>

          <h3>2. Add LMS classroom link (optional)</h3>
          <%= render partial: "orgs/lti_configurations/edit_form" %>
        </div>

        <div class="boxed-group dangerzone">
          <h3>Delete LMS Configuration</h3>
          <div class="boxed-group-inner pt-2 clearfix">
            <p>
              Deleting the LMS configuration will not delete all students.
            </p>
            <p>
              This will not delete assignments, assignment repos, or submissions.
            </p>
              After deleting your LMS, you will not be able to sync your roster anymore.
            </p>
            <p>
              <%= button_to "Delete LMS Configuration", lti_configuration_path(current_organization), method: :delete, class: 'btn btn-danger'%>
            </p>
          </div>
      </div>
    </div>
  </div>
</div>
